---
layout: post
title: Redis代码阅读
date: 2024-04-29
tags: Redis
comments: true
author: lewx
typora-copy-images-to: ../images/2024-04-29-Redis代码阅读
typora-root-url: ../images
---



# 初始化服务器

server.c/initServer()![Butterfly-aeCreateTimeEvent](./2024-04-29-Redis代码阅读/Butterfly-aeCreateTimeEvent.png)



注册定时任务

![image-20240429171229826](./2024-04-29-Redis代码阅读//image-20240429171229826.png)



定时器的回调处理函数

![image-20240429171341211](./2024-04-29-Redis代码阅读/image-20240429171341211.png)

其中执行了副本、集群、哨兵相关的定时任务

![image-20240429173053737](./2024-04-29-Redis代码阅读/image-20240429173053737.png)





注册文件可读事件

![image-20240429171153165](./2024-04-29-Redis代码阅读/image-20240429171153165.png)





# 事件驱动

Redis实现了一个简单的事件驱动库ae，位于ae.c

